# Tuning Tool Shop

TYPO3 13 Shop Extension f√ºr Chiptuning Ger√§te und Zubeh√∂r mit vollst√§ndiger E-Commerce-Funktionalit√§t.

## Features

### Produktverwaltung
‚úì **Produktkatalog**: 
  Umfassende Produktdatenbank mit SKU, Beschreibung, Preis, Spezialpreis

‚úì **Kategorien & Hersteller**:
   Flexible Kategorisierung und Herstellerverwaltung

‚úì **Produktbilder**: Multi-Image Support mit Fluid-Verarbeitung

‚úì **Videos & Dokumente**: Integration von Videos und Download-Dokumenten

‚úì **Produkttypen**: Normale Produkte, Downloadware, etc.

‚úì **Lieferumfang**: Definierbare Lieferumfangsoptionen

‚úì **Lagerbestand**: Lagerverwaltung mit Verf√ºgbarkeitspr√ºfung

‚úì **Gewichte & Versand**: Gewichtsangaben f√ºr Versandberechnung

‚úì **Versandkostenfrei**: Checkbox zur Markierung versandkostenfreier Produkte

‚úì **Verwandte Produkte**: Cross-Selling durch verwandte Produkte

‚úì **Tags**: Flexible Tagging f√ºr verbesserte Filterung

### Produktdarstellung
‚úì **Mehrere Templates**: 
  - Grid
  - Grid mit Typ
  - Kompakte Liste
  - Detailliert
  - Countdown

‚úì **Flexible Ansichtsoptionen**:
  - üìä Anzahl Items pro Seite (einstellbar)
  - üìê Grid-Spalten (3 oder 4)
  - üí∞ Produktpreis anzeigen/verbergen
  - üìù Produktbeschreibung anzeigen/verbergen
  - üñºÔ∏è Produktbild anzeigen/verbergen
  - üõí "In den Warenkorb" Button anzeigen/verbergen

‚úì **Countdown-Funktion**:
  - ‚è±Ô∏è Special Sale Template mit Countdown-Timer
  - üìÖ Zieldatum konfigurierbar im Backend (Datum + Uhrzeit)
  - ‚ö° JavaScript-basierter Live-Countdown
  - üéâ Ideal f√ºr Limited-Time-Angebote (Black Friday, etc.)

‚úì **Sortieroptionen**: 
  - üìù Nach Name (A-Z, Z-A), 
  - üíµ Nach Preis (aufsteigend/absteigend), 
  - üìÖ Nach Erstellungsdatum
  
‚úì **Filterung**:
  - üè∑Ô∏è Nach Kategorie
  - üè≠ Nach Hersteller
  - üîç Frontend-Filter mit Formular
  - ‚öôÔ∏è Backend-Filter (vordefiniert pro Plugin)

### Listing Features
üìÑ **Pagination**: Seitenwechsel mit benutzerdefinierten Items pro Seite

üìÑ **URL-Integration**: SEO-freundliche URLs √ºber Route Enhancers

üìÑ **Kategorieseiten**: Dedizierte Kategorieseiten mit Produkt√ºbersicht

üìÑ **Herstellerseiten**: Hersteller-Detailseiten mit deren Produkten

üìÑ **Tag-Seiten**: Tag-basierte Produktsammlung

üìÑ **Suche**: Volltextsuche √ºber Produkttitel und Beschreibung

üìÑ **Countdown-Ansicht**: Special Sale Ansicht mit Countdown-Timer

### Warenkorb
üõí **Mini-Warenkorb**: Schwebende Warenkorbanzeige im Header. 

üõí **Warenkorb-Seite**: Detaillierte Warenkorbverwaltung
üõí **Mengen-Management**: Hinzuf√ºgen, Bearbeiten, L√∂schen von Produkten
üõí **Preis-Berechnung**:
  - üíµ Zwischensumme (Netto)
  - üìä Steuern (konfigurierbar pro Produkt)
  - üöö Versandkosten
  - üí≥ Gesamtsumme (Brutto)
üõí **Persistierung**: Warenkorb in der Session/Datenbank

### Checkout & Bestellung
üì¶ **One-Page Checkout**: Vereinfachter Bestellprozess auf einer Seite
üì¶ **Kundendaten**:
  - üè† Rechnungsadresse
  - üì¨ Lieferadresse
  - ‚úâÔ∏è E-Mail-Best√§tigung
üì¶ **Versandoptionen**: Auswahl aus konfigurierten Versandmethoden
üì¶ **Gewichtsbasierte Versandberechnung**: Automatische Berechnung basierend auf Produktgewicht
üì¶ **Versandmethoden**: Verschiedene Versandarten mit unterschiedlichen Kosten
üì¶ **Zahlungsmethoden**: 
  - üí≥ Vorkasse
  - üìÆ Nachnahme
  - üÖøÔ∏è PayPal
  - üí≥ Stripe/Kreditkarte
  - üõçÔ∏è Klarna
üì¶ **Bestellbearbeitung**: 
  - üìã Bestelldetails speichern
  - ‚úâÔ∏è Best√§tigungsemail
  - üìö Bestellhistorie f√ºr Kunden

### Zahlungsintegration
üí≥ **Stripe Integration**:
  - üé´ Kreditkarten-Zahlung (Visa, Mastercard, etc.)
  - üîó Webhook-Unterst√ºtzung
  - üîí Sichere Zahlungsabwicklung
  - ‚ö†Ô∏è Fehlerbehandlung
üí≥ **PayPal Integration**:
  - üÖøÔ∏è PayPal Express Checkout
  - üí∞ Standard Zahlungsoptionen
  - üîó Webhook-Verarbeitung
  - üîÑ Order-Synchronisierung
üí≥ **Klarna Integration**:
  - üìä Buy now, pay later (BNPL)
  - üìà Ratenkauf
  - üîí Sichere Zahlungsabwicklung
üí≥ **Vorkasse & Nachnahme**: Manuelle Zahlungsmethoden

### Bestellverwaltung
üìã **Kundenbestell√ºbersicht**: Alle Bestellungen im Frontend sichtbar
üìã **Bestelldetails**: Einzelbestellansicht mit:
  - üî¢ Bestellnummer
  - üìÖ Bestelldatum
  - üìä Bestellstatus
  - üì¶ Positionen & Preise
  - üí≥ Zahlungsstatus
  - üöö Versandstatus
üìã **Bestellverlauf**: Chronologische √úbersicht aller Bestellungen
üìã **Download-Verwaltung**: Automatische Downloads f√ºr digitale Produkte

### Produkteigenschaften
‚öôÔ∏è **Steuern**: Konfigurierbare Steuers√§tze pro Produkt
‚öôÔ∏è **Spezialpreis**: Verkaufspreiserm√§√üigung mit automatischer Berechnung
‚öôÔ∏è **Aktivierungsstatus**: Sichtbarkeit von Produkten steuern
‚öôÔ∏è **Metadaten**: 
  - üîç Meta Title f√ºr SEO
  - üîç Meta Description
  - üîç Meta Keywords
  - üîó Canonical URL
‚öôÔ∏è **Rich Content**:
  - üìù Startup-Hilfe (√úberschrift + Text)
  - ‚≠ê Features (√úberschrift + Text)
  - üëç Empfehlungen (√úberschrift + Text)
  - üìÑ Rich HTML Editor Support

### Admin-Features
‚öôÔ∏è **Backend-Module**: Verwaltungsmodul f√ºr Shop-Einstellungen
‚öôÔ∏è **Plugin-Konfiguration** (FlexForm):
  - üîß Separate Konfiguration pro Plugin (ProductList, Cart, Checkout, etc.)
  - üìê Template-Auswahl
  - üîç Filtereinstellungen
  - üîó Seiten-Links (Detail-, Warenkorb-, Checkout-Seite)
  - üìä Anzahl Items
  - ‚ÜïÔ∏è Sortieroptionen
‚öôÔ∏è **Datenbankmanagement**: SQL-Updates f√ºr Migration und Setup

### SEO & Performance
üöÄ **URL-Rewriting**: Freundliche URLs durch Route Enhancers
üöÄ **Slug-Support**: Automatische Slug-Generierung f√ºr Kategorien, Hersteller, Produkte
üöÄ **Pagination URL**: SEO-freundliche Seitennummerierung (z.B. `/produkte/2`)
üöÄ **Responsive Design**: Bootstrap-basiertes Responsive Design

### Datenschutz & Sicherheit
üîí **Frontend User Integration**: Benutzer-Registration & Login
üîí **Benutzergruppen**: Rollenbasierte Zugriffskontrolle m√∂glich
üîí **Session-Management**: Sichere Warenkorb-Sessions
üîí **TYPO3 Security**: Verwendung von TYPO3 Security Best Practices

## Anforderungen

- PHP >= 8.2
- TYPO3 >= 13.4
- Doctrine/Extbase ORM
- Bootstrap Package (f√ºr Templates)

## Installation

```bash
composer require hamstahstudio/tuning-tool-shop
composer exec typo3 setup --no-interaction
```

## Plugins

### ProductList
Zeigt eine filterable und sortierbare Produktliste mit verschiedenen Layout-Optionen.

**Controller-Action**: `Product::list`

**Konfigurierbare Einstellungen**:
- Items pro Seite
- Template-Auswahl (default, compact, detailed, countdown)
- Grid-Spalten
- Sortieroption
- Sortierrichtung
- Kategorie- und Herstellerfilter (Backend)
- Detail- und Warenkorb-Seite Link

### ProductDetail
Zeigt Produktdetails mit Bildern, Videos, Dokumenten und "In den Warenkorb"-Button.

**Controller-Action**: `Product::show`

### Cart
Warenkorb-Ansicht mit Mengen√§nderung, Produktentfernung und Checkout-Link.

**Controller-Action**: `Cart::index`, `Cart::add`, `Cart::update`, `Cart::remove`

**Funktionen**:
- Warenkorb anzeigen
- Produkte hinzuf√ºgen
- Mengen √§ndern
- Produkte entfernen
- Versandkosten berechnen
- Gesamtpreis mit Steuern

### Checkout
One-Page Checkout mit Adresseingabe, Versand- und Zahlungswahl, Bestellplatzierung.

**Controller-Action**: `Checkout::index`, `Checkout::process`, `Checkout::confirmation`

**Schritte**:
1. Kundenadresse
2. Versandmethode w√§hlen
3. Zahlungsmethode w√§hlen
4. Bestellung best√§tigen

### Orders
Kundenbestellhistorie mit Detailseiten.

**Controller-Action**: `Orders::list`, `Orders::detail`

### Payment
Zahlungs-Gateway Handler (PayPal, Stripe, Klarna, etc.)

**Controller-Action**: `Payment::*`, `Stripe::*`

### CategoryMenu
Navigationskomponente f√ºr Produktkategorien.

**Controller-Action**: `Category::*`

### ManufacturerMenu
Navigationskomponente f√ºr Hersteller.

**Controller-Action**: `Manufacturer::*`

### TagsPlugin
Tag-basierte Produktfilterung und -anzeige.

**Controller-Action**: `Tag::*`

### SelectedProducts
Zeigt handverlesene Produkte basierend auf UIDs.

**Controller-Action**: `Product::selected`

## Dom√§nenmodelle

### Product
Hauptprodukt-Entity mit allen Produktinformationen.

### Category
Produktkategorie mit Slug und Hierarchie.

### Manufacturer
Hersteller von Produkten.

### ShippingMethod
Versandart mit Gewichtsabh√§ngigen Kosten.

### PaymentMethod
Zahlungsmethoden (Vorkasse, PayPal, Stripe, Klarna, etc.)

### Order & OrderItem
Bestellverwaltung mit Positionen und Status.

### Cart & CartItem
Warenkorb im Session gespeichert.

### Tax
Steuers√§tze f√ºr Produkte.

### Video, Download
Zus√§tzliche Produktmaterialien.

### ProductDeliveryScope
Lieferumfang-Optionen.

### Tag
Flexible Produkt-Tags.

## Tipps & Best Practices

- **Sprachverwaltung**: Alle Frontend-Labels sind mehrsprachig in `locallang_fe.xlf`
- **Backend-Labels**: Admin-Labels in `locallang_be.xlf`
- **Route Enhancers**: F√ºr SEO-freundliche URLs in `config/sites/*/config.yaml`
- **TypoScript**: Zus√§tzliche Konfiguration m√∂glich in `Configuration/TypoScript/`
- **Migrations**: Alte Updates in `Updates/` f√ºr Schema-√Ñnderungen

## Entwicklung

Der Shop-Code folgt PSR-12 Standard und nutzt Constructor Injection f√ºr alle Dependencies.

```bash
# Installation lokal
cd packages/tuning_tool_shop && composer install

# Testing (wenn aktiviert)
composer exec phpunit

# Code-Stil
composer exec php-cs-fixer fix
```

## Support & Dokumentation

Zus√§tzliche Dokumentation:
- `PAYPAL_SETUP_GUIDE.md` - PayPal Integration Anleitung
- `KLARNA_SETUP_GUIDE.md` - Klarna Integration Anleitung
- `STRIPE_INTEGRATION.md` - Stripe Integration
- `CHECKOUT-SETUP.md` - Checkout Konfiguration
- `IMPLEMENTATION_CHECKLIST.md` - Implementierungs-Checkliste

## Lizenz

Diese Extension ist unter der Lizenz des Projekts lizenziert.
